<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>
			Общественный транспорт
		</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		
		<link rel="stylesheet" href="https://storage.googleapis.com/code.getmdl.io/1.0.4/material.indigo-pink.min.css">
		<script src="https://storage.googleapis.com/code.getmdl.io/1.0.4/material.min.js"></script>
		<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
		
		<link rel="stylesheet" href="css/styles.css">
		
		<link rel="stylesheet" href="css/leaflet.css" />
		<link rel="stylesheet" href="css/leaflet.label.css" />
		
		<script src="js/libs/jquery-2.1.4.min.js"></script>
		<script src="js/libs/underscore-min.js"></script>
		<script src="js/libs/backbone-min.js"></script>
		<script src="js/libs/leaflet.js"></script>
		<script src="js/libs/leaflet.label.js"></script>
		<script src="js/libs/TileLayer.GeoJSON.js"></script>
		<script src="js/libs/leaflet.polylineoffset.js" ></script>
		<script src="js/libs/randomColor.js" ></script>
	</head>
	<body>
		<div class="demo-layout mdl-layout mdl-js-layout mdl-layout--fixed-drawer mdl-layout--fixed-header">
      <header class="demo-header mdl-layout__header mdl-color--white mdl-color--grey-100 mdl-color-text--grey-600">
        <div class="mdl-layout__header-row">
          <span class="mdl-layout-title">Home</span>
          <div class="mdl-layout-spacer"></div>
          <div class="mdl-textfield mdl-js-textfield mdl-textfield--expandable">
            <label class="mdl-button mdl-js-button mdl-button--icon" for="search">
              <i class="material-icons">search</i>
            </label>
            <div class="mdl-textfield__expandable-holder">
              <input class="mdl-textfield__input" type="text" id="search" />
              <label class="mdl-textfield__label" for="search">Enter your query...</label>
            </div>
          </div>
          <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" id="hdrbtn">
            <i class="material-icons">more_vert</i>
          </button>
          <ul class="mdl-menu mdl-js-menu mdl-js-ripple-effect mdl-menu--bottom-right" for="hdrbtn">
            <li class="mdl-menu__item" id="source_link">View source</li>
            <li class="mdl-menu__item" id="learnmore_link">Learn more</li>
            <li class="mdl-menu__item" id="bugreport_link">Report a bug</li>
          </ul>
        </div>
      </header>
      <div class="demo-drawer mdl-layout__drawer mdl-color--blue-grey-900 mdl-color-text--blue-grey-50">
        <header class="demo-drawer-header">
          <div>
            <h3>OSM Public Transport</h3>
          </div>
        </header>
        <nav class="demo-navigation mdl-navigation mdl-color--blue-grey-800">
			<a class="mdl-navigation__link" href="#"><i class="material-icons md-24">map</i>&nbsp;Карта</a>
			<a class="mdl-navigation__link" href="#place/list"><i class="material-icons md-24">directions_bus</i>&nbsp;Маршруты</a>
		</nav>
		  <div id="container">

		  </div>		  
		  <div id="left_panel_content"></div>
      </div>
      <main class="mdl-layout__content mdl-color--grey-100" id="map">
      </main>
    </div>
		
		<script type="text/html" id="route_list_template">
			<div class="content_body">
				<h3 align="center"><%= properties.name %></h3>
					<% if(properties.buses.length < 1 && properties.trolleybuses.length < 1) { %>
						<p>Нет доступных маршрутов</p>
					<% } %>
					<% if(properties.buses.length > 0) { %>
						<h4>Автобусы</h4>
						<p align="justify">
						<% _.each(properties.buses, function(route) { %>
							<div class="route_links mdl-button--fab" id="bus<%= route.Ref %>">
								<%= route.Ref %>
							</div>
						<% }); %>
						</p>
					<% } %>
					<% if(properties.trolleybuses.length > 0) { %>
						<h4>Троллейбусы</h4>
						<p align="justify">
						<% _.each(properties.trolleybuses, function(route) { %>
							<div class="route_links mdl-button--fab" id="trolleybus<%= route.Ref %>">
								<%= route.Ref %>
							</div>
						<% }); %>
						</p>
					<% } %>
			</div>
		</script>
		<script type="text/html" id="place_list_template">
			<nav class="demo-navigation mdl-navigation mdl-color--blue-grey-900">
			<% _.each(places, function(place, index) { %>
				<a class="mdl-navigation__link" href="#place/<%= place.id %>"><%= place.name %></a>
			<% }); %>
			</nav>
		</script>

		<script src="js/models/MapData.js"></script>
		<script src="js/views/MapView.js"></script>
		<script src="js/views/RouteView.js"></script>
		<script src="js/views/PlaceView.js"></script>
		<script src="js/views/RefView.js"></script>
		<script src="js/map.js"></script>
	</body>
</html>
